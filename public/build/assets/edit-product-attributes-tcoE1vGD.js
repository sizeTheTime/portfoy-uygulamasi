import{d as U,K as H,x as K,z as k,h as w,o as s,w as $,e as d,a as n,k as c,u as r,b as e,i as m,t as u,j as S,F as q,r as J,A,C as B,D as O,I as G}from"./app-CwLRXPo3.js";import{_ as R}from"./PageContainer.vue_vue_type_script_setup_true_lang-CAx5RX2r.js";import{S as M,X as T,_ as X}from"./AppLayout.vue_vue_type_script_setup_true_lang-CPagCA6u.js";import{I as Q}from"./info-KQa7fzKE.js";import{P as V}from"./plus-yvxGqGqM.js";import{T as W}from"./tag-C_NunSDC.js";import{F as Y}from"./file-text-CIFzCtlL.js";import{A as Z}from"./arrow-left-DGOJAje7.js";import{S as ee}from"./save-DOij60Vo.js";import{C as te}from"./circle-check-big-DKfWCuVl.js";import{C as F}from"./circle-alert-xkxRvqTO.js";import{a as re}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BLEQfxam.js";import"./index-C8e-wV4G.js";import"./RovingFocusGroup-d-hPvtSF.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=re("CircleHelpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),le={class:"max-w-5xl mx-auto p-8"},ae={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},oe={class:"bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4"},ie={class:"text-2xl font-bold text-white flex items-center"},de={class:"text-emerald-100 mt-1"},ne={class:"p-6"},ue={class:"mb-8 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-lg p-4 border border-emerald-200 dark:border-emerald-800"},ce={class:"flex items-center justify-between"},me={class:"flex items-center"},be={class:"p-2 bg-emerald-100 dark:bg-emerald-800 rounded-lg"},ge={class:"ml-3"},pe={class:"text-2xl font-bold text-emerald-900 dark:text-emerald-100"},ye={class:"space-y-4"},ke={class:"absolute -top-3 left-4 bg-emerald-600 text-white text-xs font-bold px-2 py-1 rounded-full"},xe=["onClick"],ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},fe={class:"space-y-2"},he=["for"],_e=["id","onUpdate:modelValue"],we={key:0,class:"text-sm text-red-600"},ze={class:"space-y-2"},Ce=["for"],De=["id","onUpdate:modelValue"],$e={key:0,class:"text-sm text-red-600"},Se={key:1,class:"mt-4 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600"},Ae={class:"flex items-center text-sm"},Be={class:"font-medium text-gray-900 dark:text-white"},Me={class:"ml-2 text-gray-600 dark:text-gray-300"},Te={key:0,class:"text-center py-12"},Ve={class:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-600"},Fe=["disabled"],Ne={key:0,class:"mr-2"},je={key:0,class:"mt-6"},Ee={class:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800"},Ie={class:"flex items-start"},Le={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-600"},Pe={class:"flex items-center"},Ue={class:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg mr-3"},He={class:"p-6"},Ke={key:0,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4"},qe={class:"flex items-center text-sm"},Je={class:"font-medium text-gray-900 dark:text-white"},Oe={class:"ml-2 text-gray-600 dark:text-gray-300"},Ge={class:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-600"},Re=["disabled"],Xe={key:0,class:"mr-2"},mt=U({__name:"edit-product-attributes",setup(Qe){const N=[{title:"Dashboard",href:"/dashboard"},{title:"ÃœrÃ¼nler",href:"/dashboard/pages"},{title:"Ã–zellikleri DÃ¼zenle",href:"#"}],p=H().props.product,j=Array.isArray(p.attributes)&&p.attributes.length?p.attributes.map(l=>({id:l.id||null,name:l.name||"",value:l.value||""})):[{id:null,name:"",value:""}],a=K({attributes:JSON.parse(JSON.stringify(j))}),y=k(""),b=k(""),z=k(!1),g=k(null),v=k(-1),x=k(!1),f=(l,t,o)=>{const i=`${l}.${t}.${o}`;return a.errors[i]},C=()=>{a.attributes.push({id:null,name:"",value:""})},D=l=>{a.attributes.length>1&&a.attributes.splice(l,1)},E=(l,t)=>{g.value=l,v.value=t,z.value=!0},h=()=>{z.value=!1,g.value=null,v.value=-1,x.value=!1},I=async()=>{!g.value||v.value===-1||(x.value=!0,await L(g.value.id,v.value),h())},L=async(l,t)=>{if(!l){D(t);return}try{await G.post(`/dashboard/pages/${p.id}/edit/attributes/remove`,{attribute_id:l}),y.value="Ã–zellik baÅŸarÄ±yla silindi!",b.value="success",D(t)}catch{y.value="Ã–zellik silinirken bir hata oluÅŸtu.",b.value="error"}},P=()=>{a.post(`/dashboard/pages/${productId}/edit/card/update`,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{y.value="Ã–zellikler baÅŸarÄ±yla gÃ¼ncellendi!",b.value="success"},onError:()=>{y.value="Bir hata oluÅŸtu. LÃ¼tfen formu kontrol edin.",b.value="error",console.error("Form error:",a.errors)}})};return(l,t)=>(s(),w(X,{breadcrumbs:N},{default:$(()=>[d(r(R),null,{default:$(()=>[e("div",le,[e("div",ae,[e("div",oe,[e("h1",ie,[d(r(Q),{class:"h-6 w-6 mr-3"}),t[2]||(t[2]=m(" ÃœrÃ¼n Ã–zelliklerini DÃ¼zenle "))]),e("p",de,u(r(p).name)+" - ÃœrÃ¼n Ã¶zelliklerini yÃ¶netin",1)]),e("div",ne,[e("div",ue,[e("div",ce,[e("div",me,[e("div",be,[d(r(M),{class:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})]),e("div",ge,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-emerald-800 dark:text-emerald-200"},"Toplam Ã–zellik",-1)),e("p",pe,u(r(a).attributes.length),1)])]),e("button",{type:"button",onClick:C,class:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors shadow-sm"},[d(r(V),{class:"h-4 w-4 mr-2"}),t[4]||(t[4]=m(" Ã–zellik Ekle "))])])]),e("form",{onSubmit:S(P,["prevent"]),class:"space-y-6"},[e("div",ye,[(s(!0),n(q,null,J(r(a).attributes,(o,i)=>(s(),n("div",{key:i,class:"group relative bg-gray-50 dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600 hover:border-emerald-300 dark:hover:border-emerald-600 transition-all duration-200"},[e("div",ke,u(i+1),1),r(a).attributes.length>1?(s(),n("button",{key:0,type:"button",onClick:_=>E(o,i),class:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg opacity-0 group-hover:opacity-100",title:"Ã–zelliÄŸi sil"},[d(r(T),{class:"h-4 w-4"})],8,xe)):c("",!0),e("div",ve,[e("div",fe,[e("label",{for:`attribute_name_${i}`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[d(r(W),{class:"h-4 w-4 inline mr-1 text-emerald-500"}),t[5]||(t[5]=m(" Ã–zellik AdÄ± * "))],8,he),A(e("input",{id:`attribute_name_${i}`,"onUpdate:modelValue":_=>o.name=_,type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-800 dark:text-white transition-colors",placeholder:"Ã¶rn: Malzeme, Boyut, Renk"},null,8,_e),[[B,o.name]]),f("attributes",i,"name")?(s(),n("p",we,u(f("attributes",i,"name")),1)):c("",!0)]),e("div",ze,[e("label",{for:`attribute_value_${i}`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[d(r(Y),{class:"h-4 w-4 inline mr-1 text-teal-500"}),t[6]||(t[6]=m(" Ã–zellik DeÄŸeri * "))],8,Ce),A(e("input",{id:`attribute_value_${i}`,"onUpdate:modelValue":_=>o.value=_,type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-800 dark:text-white transition-colors",placeholder:"Ã¶rn: Pamuk, 42, Mavi"},null,8,De),[[B,o.value]]),f("attributes",i,"value")?(s(),n("p",$e,u(f("attributes",i,"value")),1)):c("",!0)])]),o.name&&o.value?(s(),n("div",Se,[t[7]||(t[7]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Ã–nizleme:",-1)),e("div",Ae,[e("span",Be,u(o.name)+":",1),e("span",Me,u(o.value),1)])])):c("",!0)]))),128))]),r(a).attributes.length===0?(s(),n("div",Te,[d(r(M),{class:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"HenÃ¼z Ã¶zellik eklenmemiÅŸ",-1)),t[10]||(t[10]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-4"},"ÃœrÃ¼nÃ¼nÃ¼z iÃ§in Ã¶zellikler ekleyerek mÃ¼ÅŸterilerinize daha detaylÄ± bilgi verin",-1)),e("button",{type:"button",onClick:C,class:"inline-flex items-center px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors"},[d(r(V),{class:"h-5 w-5 mr-2"}),t[8]||(t[8]=m(" Ä°lk Ã–zelliÄŸi Ekle "))])])):c("",!0),e("div",Ve,[e("button",{type:"button",onClick:t[0]||(t[0]=o=>l.$inertia.visit(`/dashboard/pages/${r(p).id}`)),class:"inline-flex items-center px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[d(r(Z),{class:"h-4 w-4 mr-2"}),t[11]||(t[11]=m(" Ä°ptal "))]),e("button",{type:"submit",disabled:r(a).processing,class:"inline-flex items-center px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[r(a).processing?(s(),n("span",Ne,t[12]||(t[12]=[e("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},null,-1)]))):(s(),w(r(ee),{key:1,class:"h-4 w-4 mr-2"})),m(" "+u(r(a).processing?"GÃ¼ncelleniyor...":"DeÄŸiÅŸiklikleri Kaydet"),1)],8,Fe)])],32),y.value?(s(),n("div",je,[e("div",{class:O(["rounded-lg px-4 py-3 flex items-center",{"border border-green-300 bg-green-50 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-200":b.value==="success","border border-red-300 bg-red-50 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200":b.value==="error"}])},[b.value==="success"?(s(),w(r(te),{key:0,class:"h-5 w-5 mr-2 text-green-500"})):(s(),w(r(F),{key:1,class:"h-5 w-5 mr-2 text-red-500"})),m(" "+u(y.value),1)],2)])):c("",!0),e("div",Ee,[e("div",Ie,[d(r(se),{class:"h-5 w-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),t[13]||(t[13]=e("div",{class:"text-sm text-blue-800 dark:text-blue-200"},[e("p",{class:"font-medium mb-1"},"ðŸ’¡ Ä°puÃ§larÄ±:"),e("ul",{class:"list-disc list-inside space-y-1 text-blue-700 dark:text-blue-300"},[e("li",null,'Ã–zellik adlarÄ± kÄ±sa ve aÃ§Ä±klayÄ±cÄ± olmalÄ± (Ã¶rn: "Malzeme", "Boyut")'),e("li",null,'DeÄŸerler spesifik ve net olmalÄ± (Ã¶rn: "100% Pamuk", "42 numara")'),e("li",null,"MÃ¼ÅŸteriler iÃ§in Ã¶nemli olan Ã¶zellikleri Ã¶ncelikle ekleyin"),e("li",null,"Benzer Ã¼rÃ¼nlerde tutarlÄ± Ã¶zellik adlarÄ± kullanÄ±n")])],-1))])])])])])]),_:1}),z.value?(s(),n("div",{key:0,class:"fixed inset-0 bg-gray-900/70 bg-opacity-50 flex items-center justify-center z-50",onClick:h},[e("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all",onClick:t[1]||(t[1]=S(()=>{},["stop"]))},[e("div",Le,[e("div",Pe,[e("div",Ue,[d(r(F),{class:"h-6 w-6 text-red-600 dark:text-red-400"})]),t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Ã–zelliÄŸi Sil ",-1))]),e("button",{onClick:h,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[d(r(T),{class:"h-5 w-5"})])]),e("div",He,[t[15]||(t[15]=e("p",{class:"text-gray-600 dark:text-gray-300 mb-4"}," Bu Ã¶zelliÄŸi silmek istediÄŸinizden emin misiniz? ",-1)),g.value?(s(),n("div",Ke,[e("div",qe,[e("span",Je,u(g.value.name)+":",1),e("span",Oe,u(g.value.value),1)])])):c("",!0),t[16]||(t[16]=e("p",{class:"text-sm text-red-600 dark:text-red-400"}," Bu iÅŸlem geri alÄ±namaz. ",-1))]),e("div",Ge,[e("button",{onClick:h,class:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors"}," Ä°ptal "),e("button",{onClick:I,disabled:x.value,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center"},[x.value?(s(),n("span",Xe,t[17]||(t[17]=[e("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},null,-1)]))):c("",!0),m(" "+u(x.value?"Siliniyor...":"Evet, Sil"),1)],8,Re)])])])):c("",!0)]),_:1}))}});export{mt as default};
