import{z as k,x as P,l as R,h as V,o as d,w as s,e as a,b as l,u as e,g as N,j as O,a as g,k as _,A as h,B as z,t as c,C as K,i as S}from"./app-CNrd56Mx.js";import{S as B,_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-oCyipPE2.js";import{_ as q,a as $}from"./ColSpan.vue_vue_type_script_setup_true_lang-kUFts_E9.js";import"./index-CVxpJYAE.js";import{_ as u,a as T}from"./FormTextareaField.vue_vue_type_script_setup_true_lang-oYpLQrqx.js";import{_ as I}from"./TiptapEditor-29lKE8oY.js";import{_ as p}from"./SectionHeader.vue_vue_type_script_setup_true_lang-BaDXwDfg.js";import{_ as y}from"./SectionBox.vue_vue_type_script_setup_true_lang-BvQ0r-MR.js";import{_ as F}from"./AlertMessage.vue_vue_type_script_setup_true_lang-BgW_7jV9.js";import{I as v}from"./info-DEI5YJKH.js";import{S as U}from"./square-pen-BcrxfyNI.js";import{C as M}from"./code-Dpb2OHJK.js";import{A as G}from"./arrow-left-hCWEKyjJ.js";import{S as J}from"./save-D52VbjZp.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DvGkOqQn.js";import"./RovingFocusGroup-Bb-elKtM.js";import"./FormLabel.vue_vue_type_script_setup_true_lang-GmQ6d51q.js";import"./FormTextarea-D3V9I1KG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./align-left-CWJS1LsL.js";import"./image-CAnG7XVa.js";const W={class:"mx-auto mt-10 max-w-8xl px-4 sm:px-6 lg:px-8"},Q={class:"space-y-6"},X={class:"space-y-4"},Z={class:"flex gap-4"},ee={class:"flex items-center space-x-3 cursor-pointer"},te={class:"flex items-center space-x-2"},re={class:"flex items-center space-x-3 cursor-pointer"},ae={class:"flex items-center space-x-2"},le={key:0,class:"text-sm text-red-600 dark:text-red-400"},oe={key:1,class:"space-y-2"},ne={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},ie={key:0,class:"text-sm text-red-600 dark:text-red-400"},se={key:2,class:"flex items-center justify-center h-32 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600"},de={class:"text-center"},ue={class:"flex flex-col gap-6 rounded-2xl border bg-white/80 p-8 shadow-xl lg:flex-row lg:items-center lg:justify-between dark:bg-gray-800/80"},me={class:"flex flex-col gap-4 sm:flex-row"},ge=["disabled"],ce={key:0,class:"mr-2 h-4 w-4 animate-spin rounded-full border-t-2 border-white"},pe={class:"text-sm text-gray-500 dark:text-gray-400"},Ae={__name:"edit",props:{blog:{type:Object,required:!0}},setup(b){const n=b,f=k(""),x=k(""),L=i=>i.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-");function D(i){if(!i)return"";const r=new Date(i),o=r.getFullYear(),m=String(r.getMonth()+1).padStart(2,"0"),A=String(r.getDate()).padStart(2,"0"),H=String(r.getHours()).padStart(2,"0"),E=String(r.getMinutes()).padStart(2,"0");return`${o}-${m}-${A}T${H}:${E}`}const t=P({title:n.blog.title||"",slug:n.blog.slug||"",excerpt:n.blog.excerpt||"",content:n.blog.content||"",content_type:n.blog.content_type||"tiptap",published_at:n.blog.published_at?D(n.blog.published_at):"",meta_title:n.blog.meta_title||"",meta_description:n.blog.meta_description||"",meta_keywords:n.blog.meta_keywords||"",canonical_url:n.blog.canonical_url||""}),w=i=>new Date(i).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=()=>{t.put(`/dashboard/blogs/${n.blog.id}`,{onSuccess:()=>{f.value="Blog başarıyla güncellendi!",x.value="success"},onError:()=>{f.value="Hata oluştu, lütfen formu kontrol edin.",x.value="error"}})},j=k(null);return R(()=>t.title,i=>{if(i&&i!==n.blog.title){const r=L(i);t.slug=r,t.canonical_url=`${window.location.origin}/blogs/${r}`}},{immediate:!1}),j.value=t.title,(i,r)=>(d(),V(Y,null,{default:s(()=>[a(e(N),{title:"Blog Güncelle"}),l("div",W,[a(e(F),{message:f.value,type:x.value},null,8,["message","type"]),l("form",{onSubmit:O(C,["prevent"]),class:"space-y-8"},[a(e(q),null,{default:s(()=>[a(e($),null,{default:s(()=>[a(e(y),null,{default:s(()=>[a(e(p),{title:"Temel Bilgiler",description:"Blog yazınızın başlığı, slug'ı ve kısa özetini güncelleyin.",icon:e(v)},null,8,["icon"]),l("div",Q,[a(e(u),{id:"title",label:"Blog Başlığı *",modelValue:e(t).title,"onUpdate:modelValue":r[0]||(r[0]=o=>e(t).title=o),error:e(t).errors.title,placeholder:"Etkileyici blog başlığınızı buraya yazın...",type:"text"},null,8,["modelValue","error"]),a(e(u),{id:"slug",label:"URL Slug",modelValue:e(t).slug,"onUpdate:modelValue":r[1]||(r[1]=o=>e(t).slug=o),error:e(t).errors.slug,placeholder:"blog-url-slug",type:"text",inputProps:{readonly:!0,class:"bg-gray-50 dark:bg-gray-700 cursor-not-allowed"}},null,8,["modelValue","error"]),a(e(T),{id:"excerpt",label:"Blog Özeti *",description:"Blog yazınızın kısa ve çekici özetini yazın",modelValue:e(t).excerpt,"onUpdate:modelValue":r[2]||(r[2]=o=>e(t).excerpt=o),error:e(t).errors.excerpt,placeholder:"Blog yazınızın kısa ve çekici özetini buraya yazın...",textareaProps:{rows:3}},null,8,["modelValue","error"])])]),_:1}),a(e(y),null,{default:s(()=>[a(e(p),{title:"İçerik Tipi",description:"Blog içeriğinizi nasıl düzenlemek istediğinizi seçin.",icon:e(B)},null,8,["icon"]),l("div",X,[l("div",Z,[l("label",ee,[h(l("input",{type:"radio","onUpdate:modelValue":r[3]||(r[3]=o=>e(t).content_type=o),value:"tiptap",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[z,e(t).content_type]]),l("div",te,[a(e(U),{class:"w-5 h-5 text-blue-600"}),r[13]||(r[13]=l("span",{class:"text-sm font-medium text-gray-900 dark:text-gray-300"},"Rich Text Editör (Tiptap)",-1))])]),l("label",re,[h(l("input",{type:"radio","onUpdate:modelValue":r[4]||(r[4]=o=>e(t).content_type=o),value:"html",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[z,e(t).content_type]]),l("div",ae,[a(e(M),{class:"w-5 h-5 text-green-600"}),r[14]||(r[14]=l("span",{class:"text-sm font-medium text-gray-900 dark:text-gray-300"},"Düz HTML Kodu",-1))])])]),e(t).errors.content_type?(d(),g("p",le,c(e(t).errors.content_type),1)):_("",!0)])]),_:1}),a(e(y),null,{default:s(()=>{var o;return[a(e(p),{title:e(t).content_type==="html"?"HTML İçeriği":"Blog İçeriği",description:e(t).content_type==="html"?"Özelleştirilmiş HTML kodunuzu buraya girin.":"Blog yazınızın ana içeriğini buraya girin.",icon:e(t).content_type==="html"?e(M):e(U)},null,8,["title","description","icon"]),e(t).content_type==="tiptap"?(d(),V(e(I),{key:0,modelValue:e(t).content,"onUpdate:modelValue":r[5]||(r[5]=m=>e(t).content=m),error:e(t).errors.content,placeholder:"Blog içeriğinizi buraya yazın..."},null,8,["modelValue","error"])):e(t).content_type==="html"?(d(),g("div",oe,[h(l("textarea",{"onUpdate:modelValue":r[6]||(r[6]=m=>e(t).content=m),rows:"20",class:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white font-mono text-sm",placeholder:`HTML kodunuzu buraya yazın...

Örnek:
<div class='custom-blog-layout'>
  <h1>Özel Başlık</h1>
  <p>İçerik...</p>
</div>`},null,512),[[K,e(t).content]]),l("div",ne,[r[15]||(r[15]=l("span",null,"HTML, CSS ve JavaScript kodları desteklenir",-1)),l("span",null,c(((o=e(t).content)==null?void 0:o.length)||0)+" karakter",1)]),e(t).errors.content?(d(),g("p",ie,c(e(t).errors.content),1)):_("",!0)])):(d(),g("div",se,[l("div",de,[a(e(B),{class:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r[16]||(r[16]=l("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Önce içerik tipini seçin",-1))])]))]}),_:1})]),_:1}),a(e($),{span:"col-span-2 space-y-6"},{default:s(()=>[a(e(y),null,{default:s(()=>[a(e(p),{title:"Yayın Ayarları",description:"Blogun hangi tarihte ve saatte yayınlanacağını güncelleyin.",icon:e(v)},null,8,["icon"]),a(e(u),{id:"published_at",label:"Yayın Tarihi",description:"Blogun hangi tarihte ve saatte yayınlanacağını seçin",modelValue:e(t).published_at,"onUpdate:modelValue":r[7]||(r[7]=o=>e(t).published_at=o),error:e(t).errors.published_at,type:"datetime-local",inputProps:{class:"block w-full rounded-lg border border-gray-300 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-blue-500 text-sm"}},null,8,["modelValue","error"])]),_:1}),a(e(y),null,{default:s(()=>[a(e(p),{title:"SEO Ayarları",description:"Arama motorlarında blogunuzun daha iyi görünmesi için meta bilgilerini güncelleyin.",icon:e(v)},null,8,["icon"]),a(e(u),{id:"meta_title",label:"Meta Title",description:"Sayfa başlığı (SEO için önemli)",modelValue:e(t).meta_title,"onUpdate:modelValue":r[8]||(r[8]=o=>e(t).meta_title=o),error:e(t).errors.meta_title,type:"text"},null,8,["modelValue","error"]),a(e(T),{id:"meta_description",label:"Meta Description",description:"Arama motorları için blogunuzu özetleyen kısa bir açıklama girin",modelValue:e(t).meta_description,"onUpdate:modelValue":r[9]||(r[9]=o=>e(t).meta_description=o),error:e(t).errors.meta_description,placeholder:"Meta açıklamanızı girin...",textareaProps:{rows:3}},null,8,["modelValue","error"]),a(e(u),{id:"meta_keywords",label:"Meta Keywords",description:"Virgül ile ayırarak anahtar kelimeleri girin",modelValue:e(t).meta_keywords,"onUpdate:modelValue":r[10]||(r[10]=o=>e(t).meta_keywords=o),error:e(t).errors.meta_keywords,type:"text",placeholder:"kelime1, kelime2, kelime3"},null,8,["modelValue","error"]),a(e(u),{id:"canonical_url",label:"Canonical URL",description:"Sayfanın kanonik (asıl) URL'si",modelValue:e(t).canonical_url,"onUpdate:modelValue":r[11]||(r[11]=o=>e(t).canonical_url=o),error:e(t).errors.canonical_url,type:"url",inputProps:{readonly:!0,class:"bg-gray-50 dark:bg-gray-700 cursor-not-allowed"}},null,8,["modelValue","error"])]),_:1})]),_:1})]),_:1}),l("div",ue,[l("div",me,[l("button",{type:"button",onClick:r[12]||(r[12]=o=>i.$inertia.visit("/dashboard/blogs")),class:"inline-flex transform items-center justify-center rounded-xl bg-gradient-to-r from-gray-100 to-gray-200 px-8 py-4 font-semibold text-gray-700 shadow-lg transition-all duration-200 hover:-translate-y-0.5 hover:from-gray-200 hover:to-gray-300 hover:shadow-xl dark:from-gray-600 dark:to-gray-700 dark:text-gray-300 dark:hover:from-gray-500 dark:hover:to-gray-600"},[a(e(G),{class:"mr-2 h-5 w-5"}),r[17]||(r[17]=S(" İptal "))]),l("button",{type:"submit",disabled:e(t).processing,class:"inline-flex transform items-center justify-center rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 px-8 py-4 font-semibold text-white shadow-lg transition-all duration-200 hover:-translate-y-0.5 hover:from-green-700 hover:to-emerald-700 hover:shadow-xl dark:from-green-700 dark:to-emerald-700 dark:hover:from-green-600 dark:hover:to-emerald-600"},[e(t).processing?(d(),g("span",ce)):_("",!0),a(e(J),{class:"mr-2 h-5 w-5"}),r[18]||(r[18]=S(" Değişiklikleri Kaydet "))],8,ge)]),l("div",pe,[l("p",null,"Son güncelleme: "+c(w(b.blog.updated_at)),1),l("p",null,"Oluşturulma: "+c(w(b.blog.created_at)),1)])])],32)])]),_:1}))}};export{Ae as default};
