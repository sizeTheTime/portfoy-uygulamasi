import{d as N,z as A,c as S,n as de,p as ue,a as m,o as u,h as Q,k as f,b as e,u as t,e as d,v as W,D,j as J,F as O,r as q,t as k,T as ce,w as T,A as me,C as ge,L as Z,s as pe,i as K,I as ae,l as H,x as ye,K as be,g as fe}from"./app-sMIl7yuN.js";import{C as ve,S as ke,a as he,_ as xe}from"./FormActions.vue_vue_type_script_setup_true_lang-Cz7yatcl.js";import{_ as _e,a as re}from"./ColSpan.vue_vue_type_script_setup_true_lang-BT5dlVz4.js";import"./index-BuX2I6V6.js";import{F as le}from"./FormImageInput-DiYlV_zv.js";import{_ as E,a as X}from"./FormTextareaField.vue_vue_type_script_setup_true_lang-D-dTDLWK.js";import{_ as we,b as Ve}from"./FormLabel.vue_vue_type_script_setup_true_lang-CLxgyP10.js";import{X as se,S as ee,_ as $e}from"./AppLayout.vue_vue_type_script_setup_true_lang-DQbFvEvE.js";import{C as Ce}from"./check-C1BZi4lH.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{R as Se}from"./rotate-ccw-CK3-u24x.js";import{U as Ue}from"./upload-BKTYqA7Z.js";import{I as ie}from"./image-z9_DA0BO.js";import{P as Y}from"./plus-2xup1zjT.js";import{T as ne}from"./trash-2-CJqRV2kp.js";import{T as Re}from"./tag-DnBOXRQC.js";import{a as Ie}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ouZzx6Rx.js";import{_ as Te}from"./PageContainer.vue_vue_type_script_setup_true_lang-B1i39cVN.js";import{_ as te}from"./SectionHeader.vue_vue_type_script_setup_true_lang-_L6jgpof.js";import{_ as P}from"./SectionBox.vue_vue_type_script_setup_true_lang-Dc55owUX.js";import{I as De}from"./info-e2b6UnpZ.js";import"./FormTextarea-Cu1kf6_v.js";import"./RovingFocusGroup-BMmgc3dQ.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=Ie("HashIcon",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Be={class:"space-y-1"},je=["id","onKeydown"],Ee={class:"flex-1 flex items-center gap-1 min-w-0"},Ke={key:0,class:"flex flex-wrap gap-1"},Fe=["onClick"],Le={key:1,class:"text-gray-500 dark:text-gray-400 truncate"},Me={class:"flex items-center gap-1 ml-2"},Oe={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg"},Pe={key:0,class:"p-2 border-b border-gray-200 dark:border-gray-700"},He={class:"relative"},qe={key:1,class:"p-2 border-b border-gray-200 dark:border-gray-700 flex justify-between"},Ne=["disabled"],Ge=["disabled"],We=["onClick"],Xe=["checked","disabled"],Ye=["title"],Je={class:"flex-1 min-w-0"},Qe={class:"font-medium truncate"},Ze={key:0,class:"text-xs text-gray-500 dark:text-gray-400 truncate"},et={key:1,class:"text-xs text-gray-500 dark:text-gray-400 truncate"},tt=N({__name:"MultiSelectBox",props:{id:{default:""},modelValue:{},options:{},label:{},description:{},placeholder:{default:"Seçim yapın"},error:{},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},size:{default:"md"},variant:{default:"default"},maxHeight:{default:"200px"},showColors:{type:Boolean,default:!1}},emits:["update:modelValue","change","focus","blur","search"],setup(F,{emit:l}){const c=F,h=l,w=A(!1),b=A(""),_=A(),x=A(),$=A(),U=S(()=>c.id||`multi-select-${Math.random().toString(36).substr(2,9)}`),z=S(()=>c.options.map(s=>"hex_code"in s?{value:s.id,label:s.name,color:s.hex_code,description:s.hex_code,disabled:s.disabled||!1}:s)),y=S(()=>z.value.filter(s=>c.modelValue.includes(s.value))),p=S(()=>!c.searchable||!b.value?z.value:z.value.filter(s=>{var V;return s.label.toLowerCase().includes(b.value.toLowerCase())||((V=s.description)==null?void 0:V.toLowerCase().includes(b.value.toLowerCase()))})),n=S(()=>{const s=y.value;return s.length===0?c.placeholder:s.length===1?s[0].label:`${s.length} öğe seçildi`}),r=S(()=>{switch(c.size){case"sm":return{trigger:"px-3 py-1.5 text-sm min-h-[32px]",option:"px-3 py-1.5 text-sm",search:"px-3 py-1.5 text-sm",tag:"px-2 py-0.5 text-xs"};case"lg":return{trigger:"px-4 py-3 text-lg min-h-[48px]",option:"px-4 py-3 text-base",search:"px-4 py-3 text-base",tag:"px-3 py-1 text-sm"};default:return{trigger:"px-3 py-2 text-base min-h-[40px]",option:"px-3 py-2 text-sm",search:"px-3 py-2 text-sm",tag:"px-2 py-1 text-xs"}}}),a=S(()=>{const s="w-full rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2";switch(c.variant){case"outline":return`${s} border-gray-300 bg-transparent hover:border-gray-400 focus:border-blue-500 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-transparent dark:text-white dark:hover:border-gray-500`;case"ghost":return`${s} border-transparent bg-gray-50 hover:bg-gray-100 focus:bg-white focus:border-gray-300 focus:ring-gray-500/20 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:bg-gray-900 dark:text-white`;default:return`${s} border-gray-300 bg-white shadow-sm hover:border-gray-400 focus:border-blue-500 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:border-gray-500`}}),i=S(()=>{let s=`${a.value} ${r.value.trigger} flex items-center justify-between cursor-pointer`;return c.disabled&&(s+=" opacity-50 cursor-not-allowed hover:border-gray-300 dark:hover:border-gray-600"),c.error&&(s+=" border-red-500 focus:border-red-500 focus:ring-red-500/20"),w.value&&!c.disabled&&(s+=" ring-2 ring-blue-500/20 border-blue-500"),s}),j=()=>{c.disabled||(w.value=!w.value,w.value?pe(()=>{c.searchable&&x.value&&x.value.focus()}):b.value="")},C=(s,V)=>{if(V&&(V.preventDefault(),V.stopPropagation()),s.disabled)return;const g=[...c.modelValue],L=g.indexOf(s.value);L>-1?g.splice(L,1):g.push(s.value),h("update:modelValue",g),h("change",g)},R=s=>{s.stopPropagation(),h("update:modelValue",[]),h("change",[])},G=(s,V)=>{V.stopPropagation();const g=c.modelValue.filter(L=>L!==s.value);h("update:modelValue",g),h("change",g)},o=s=>c.modelValue.includes(s.value),v=s=>{if(s&&(s.preventDefault(),s.stopPropagation()),c.disabled)return;const V=z.value.filter(g=>!g.disabled).map(g=>g.value);h("update:modelValue",V),h("change",V)},I=s=>{s&&(s.preventDefault(),s.stopPropagation()),!c.disabled&&(h("update:modelValue",[]),h("change",[]))},B=s=>{_.value&&!_.value.contains(s.target)&&(w.value=!1,b.value="")},M=s=>{const V=s.target;b.value=V.value,h("search",V.value)};return de(()=>{document.addEventListener("click",B)}),ue(()=>{document.removeEventListener("click",B)}),(s,V)=>(u(),m("div",Be,[s.label?(u(),Q(t(we),{key:0,for:U.value,label:s.label,description:s.description,required:s.required},null,8,["for","label","description","required"])):f("",!0),e("div",{ref_key:"selectRef",ref:_,class:"relative"},[e("div",{id:U.value,class:D(i.value),onClick:j,onKeydown:[W(J(j,["prevent"]),["enter"]),W(J(j,["prevent"]),["space"]),V[0]||(V[0]=W(g=>w.value=!1,["escape"]))],tabindex:"0"},[e("div",Ee,[y.value.length>0?(u(),m("div",Ke,[(u(!0),m(O,null,q(y.value.slice(0,3),g=>(u(),m("span",{key:g.value,class:D(["inline-flex items-center gap-1 rounded-md",r.value.tag,"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"])},[s.showColors&&g.color?(u(),m("span",{key:0,style:Z({backgroundColor:g.color}),class:"h-3 w-3 rounded border border-gray-300 dark:border-gray-600"},null,4)):f("",!0),K(" "+k(g.label)+" ",1),e("button",{type:"button",onClick:L=>G(g,L),class:"hover:bg-blue-200 dark:hover:bg-blue-800 rounded-sm p-0.5"},[d(t(se),{class:"h-3 w-3"})],8,Fe)],2))),128)),y.value.length>3?(u(),m("span",{key:0,class:D(["rounded-md",r.value.tag,"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"])}," +"+k(y.value.length-3),3)):f("",!0)])):(u(),m("span",Le,k(n.value),1))]),e("div",Me,[s.clearable&&y.value.length>0&&!s.disabled?(u(),m("button",{key:0,type:"button",onClick:R,class:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"},[d(t(se),{class:"h-4 w-4 text-gray-400"})])):f("",!0),d(t(ve),{class:D(["h-4 w-4 text-gray-400 transition-transform duration-200",w.value?"rotate-180":""])},null,8,["class"])])],42,je),d(ce,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:T(()=>[w.value?(u(),m("div",Oe,[s.searchable?(u(),m("div",Pe,[e("div",He,[d(t(ke),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),me(e("input",{ref_key:"searchInputRef",ref:x,"onUpdate:modelValue":V[1]||(V[1]=g=>b.value=g),type:"text",placeholder:"Ara...",class:D([r.value.search,"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"]),onInput:M,onKeydown:V[2]||(V[2]=W(g=>w.value=!1,["escape"]))},null,34),[[ge,b.value]])])])):f("",!0),z.value.length>0?(u(),m("div",qe,[e("button",{type:"button",onClick:v,disabled:s.disabled,class:"text-xs text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed dark:text-blue-400 dark:hover:text-blue-300"}," Tümünü Seç ("+k(z.value.filter(g=>!g.disabled).length)+") ",9,Ne),e("button",{type:"button",onClick:I,disabled:s.disabled||y.value.length===0,class:"text-xs text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed dark:text-red-400 dark:hover:text-red-300"}," Temizle ("+k(y.value.length)+") ",9,Ge)])):f("",!0),e("div",{ref_key:"optionsRef",ref:$,style:Z({maxHeight:s.maxHeight}),class:"overflow-y-auto py-1"},[(u(!0),m(O,null,q(p.value,g=>(u(),m("div",{key:g.value,class:D([r.value.option,"flex items-center gap-3 cursor-pointer transition-colors",g.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-gray-700",o(g)?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-white"]),onClick:L=>C(g,L)},[e("input",{type:"checkbox",checked:o(g),disabled:g.disabled,class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 pointer-events-none",tabindex:"-1"},null,8,Xe),s.showColors&&g.color?(u(),m("span",{key:0,style:Z({backgroundColor:g.color}),class:"h-4 w-4 rounded border border-gray-300 dark:border-gray-600 flex-shrink-0",title:g.color},null,12,Ye)):f("",!0),e("div",Je,[e("div",Qe,k(g.label),1),g.description&&!s.showColors?(u(),m("div",Ze,k(g.description),1)):f("",!0),s.showColors&&g.color?(u(),m("div",et,k(g.color),1)):f("",!0)]),o(g)?(u(),Q(t(Ce),{key:1,class:"h-4 w-4 text-blue-600 dark:text-blue-400 flex-shrink-0"})):f("",!0)],10,We))),128)),p.value.length===0?(u(),m("div",{key:0,class:D([r.value.option,"text-gray-500 dark:text-gray-400 text-center"])},k(b.value?"Sonuç bulunamadı":"Seçenek yok"),3)):f("",!0)],4)])):f("",!0)]),_:1})],512),s.error?(u(),Q(t(Ve),{key:1,message:s.error},null,8,["message"])):f("",!0)]))}}),at=ze(tt,[["__scopeId","data-v-1a235735"]]),rt={class:"space-y-6"},lt={class:"flex items-center justify-between"},st={class:"flex items-center gap-3"},ot={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/30"},it={class:"space-y-6"},nt={class:"mb-4 flex items-center justify-end"},dt=["onClick"],ut={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},ct=N({__name:"ImageGallerySection",props:{modelValue:{},errors:{}},emits:["update:modelValue"],setup(F,{emit:l}){const c=F,h=l,w=()=>{const y=[...c.modelValue];y.push({main_image:null,main_image_alt:"",hover_image:null,hover_image_alt:""}),h("update:modelValue",y)},b=y=>{if(c.modelValue.length>1){const p=[...c.modelValue];p.splice(y,1),h("update:modelValue",p)}},_=(y,p,n)=>{const r=[...c.modelValue];r[y]={...r[y],[p]:n},h("update:modelValue",r)},x=(y,p)=>{var r;const n=`images.${y}.${p}`;return(r=c.errors)==null?void 0:r[n]},$=(y,p)=>{_(y,p,null),_(y,p==="main_image"?"main_image_alt":"hover_image_alt","")},U=async(y,p,n)=>{var r,a,i,j;try{const C=new FormData;C.append("file",n);const R=await ae.post("/dashboard/pages/upload-image",C,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"}});R.data.success?(_(y,p,R.data.file_path),console.log("Dosya başarıyla yüklendi, path:",R.data.file_path)):(console.error("Dosya yükleme hatası:",R.data.message),alert("Dosya yükleme hatası: "+(R.data.message||"Bilinmeyen hata")))}catch(C){console.error("Dosya yükleme hatası:",C),ae.isAxiosError(C)?((r=C.response)==null?void 0:r.status)===419?alert("CSRF token hatası. Sayfayı yenileyin ve tekrar deneyin."):((a=C.response)==null?void 0:a.status)===422?alert("Dosya doğrulama hatası: "+(C.response.data.message||"Geçersiz dosya")):alert("Dosya yükleme hatası: "+(((j=(i=C.response)==null?void 0:i.data)==null?void 0:j.message)||C.message)):alert("Dosya yükleme hatası: "+(C instanceof Error?C.message:"Bilinmeyen hata"))}},z=y=>y?y.startsWith("http")?y:`/storage/${y}`:null;return(y,p)=>(u(),m("div",rt,[e("div",lt,[e("div",st,[e("div",ot,[d(t(ie),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),p[0]||(p[0]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Ürün Resimleri"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Ürün detay sayfasında görünecek resimler")],-1))]),e("button",{type:"button",onClick:w,class:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700"},[d(t(Y),{class:"h-4 w-4"}),p[1]||(p[1]=K(" Resim Ekle "))])]),e("div",it,[(u(!0),m(O,null,q(y.modelValue,(n,r)=>(u(),m("div",{key:`image-${r}`,class:"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800"},[e("div",nt,[y.modelValue.length>1?(u(),m("button",{key:0,type:"button",onClick:a=>b(r),class:"flex h-8 w-8 items-center justify-center rounded-lg text-red-500 transition-colors hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/20",title:"Resim setini kaldır"},[d(t(ne),{class:"h-4 w-4"})],8,dt)):f("",!0)]),e("div",ut,[e("div",null,[d(t(oe),{"model-value":z(n.main_image),"alt-text":n.main_image_alt,error:x(r,"main_image"),"alt-error":x(r,"main_image_alt"),label:"Ana Resim",description:"Ürün kartında gösterilecek ana resim",placeholder:"Ana resim seçin",required:"","show-alt-text":"","onUpdate:modelValue":a=>U(r,"main_image",a),"onUpdate:altText":a=>_(r,"main_image_alt",a),onRemove:a=>$(r,"main_image")},null,8,["model-value","alt-text","error","alt-error","onUpdate:modelValue","onUpdate:altText","onRemove"])]),e("div",null,[d(t(oe),{"model-value":z(n.hover_image),"alt-text":n.hover_image_alt,error:x(r,"hover_image"),"alt-error":x(r,"hover_image_alt"),label:"Hover Resmi (Opsiyonel)",description:"Mouse ile üzerine gelindiğinde gösterilecek resim",placeholder:"Hover resmi seçin","show-alt-text":"","onUpdate:modelValue":a=>U(r,"hover_image",a),"onUpdate:altText":a=>_(r,"hover_image_alt",a),onRemove:a=>$(r,"hover_image")},null,8,["model-value","alt-text","error","alt-error","onUpdate:modelValue","onUpdate:altText","onRemove"])])])]))),128))])]))}}),mt={class:"space-y-6"},gt={class:"flex items-center justify-between"},pt={class:"flex items-center gap-4"},yt={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-lg"},bt={class:"flex items-center gap-3"},ft={class:"rounded-lg bg-gray-100 px-3 py-1.5 dark:bg-gray-800"},vt={class:"text-sm font-medium text-gray-600 dark:text-gray-300"},kt={class:"relative"},ht={key:0,class:"absolute right-0 top-full z-10 mt-2 w-64 rounded-xl border border-gray-200 bg-white p-2 shadow-xl dark:border-gray-700 dark:bg-gray-800"},xt={class:"grid grid-cols-2 gap-1"},_t=["onClick"],wt={class:"text-base"},Vt={class:"text-gray-700 dark:text-gray-300"},$t={class:"mt-2 border-t border-gray-200 pt-2 dark:border-gray-700"},Ct={class:"space-y-4"},zt={class:"absolute -left-3 -top-3 flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-purple-600 text-sm font-bold text-white shadow-lg"},St=["onClick"],Ut={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Rt={class:"space-y-2"},It={class:"flex items-center gap-2"},Tt=["value","onInput"],Dt={key:0,class:"text-xs text-red-600 dark:text-red-400"},At={class:"space-y-2"},Bt={class:"flex items-center gap-2"},jt=["value","onInput"],Et={key:0,class:"text-xs text-red-600 dark:text-red-400"},Kt={class:"mt-4 flex items-center gap-2"},Ft={class:"flex-1 h-1 bg-gray-200 rounded-full dark:bg-gray-700"},Lt={key:0,class:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-600"},Mt={class:"rounded-lg bg-purple-50 p-4 dark:bg-purple-900/20"},Ot={class:"flex items-start gap-3"},Pt={class:"flex h-6 w-6 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-800"},Ht=N({__name:"ProductAttributeSection",props:{modelValue:{},errors:{}},emits:["update:modelValue"],setup(F,{emit:l}){const c=F,h=l,w=[{name:"Renk",icon:"🎨"},{name:"Boyut",icon:"📏"},{name:"Materyal",icon:"🧵"},{name:"Marka",icon:"🏷️"},{name:"Model",icon:"📱"},{name:"Ağırlık",icon:"⚖️"},{name:"Garanti",icon:"🛡️"},{name:"Menşei",icon:"🌍"}],b=A(!1),_=p=>{const n=[...c.modelValue];n.push({name:p||"",value:""}),h("update:modelValue",n),b.value=!1},x=p=>{if(c.modelValue.length>1){const n=[...c.modelValue];n.splice(p,1),h("update:modelValue",n)}},$=(p,n,r)=>{const a=[...c.modelValue];a[p]={...a[p],[n]:r},h("update:modelValue",a)},U=(p,n)=>{var a;const r=`attributes.${p}.${n}`;return(a=c.errors)==null?void 0:a[r]},z=S(()=>c.modelValue.length),y=S(()=>c.modelValue.filter(p=>p.name.trim()&&p.value.trim()).length);return(p,n)=>(u(),m("div",mt,[e("div",gt,[e("div",pt,[e("div",yt,[d(t(ee),{class:"h-6 w-6 text-white"})]),n[3]||(n[3]=e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Ürün Özellikleri"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Ürünün teknik özelliklerini ve detaylarını belirleyin ")],-1))]),e("div",bt,[e("div",ft,[e("span",vt,k(y.value)+"/"+k(z.value)+" tamamlandı ",1)]),e("div",kt,[e("button",{type:"button",onClick:n[0]||(n[0]=r=>b.value=!b.value),class:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-purple-600 to-purple-700 px-4 py-2.5 text-sm font-medium text-white shadow-lg transition-all duration-200 hover:from-purple-700 hover:to-purple-800 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/20"},[d(t(Y),{class:"h-4 w-4"}),n[4]||(n[4]=K(" Özellik Ekle "))]),b.value?(u(),m("div",ht,[n[6]||(n[6]=e("div",{class:"mb-2 px-3 py-2"},[e("h3",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Önerilen Özellikler"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Hızlı ekleme için tıklayın")],-1)),e("div",xt,[(u(),m(O,null,q(w,r=>e("button",{key:r.name,type:"button",onClick:a=>_(r.name),class:"flex items-center gap-2 rounded-lg p-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-700"},[e("span",wt,k(r.icon),1),e("span",Vt,k(r.name),1)],8,_t)),64))]),e("div",$t,[e("button",{type:"button",onClick:n[1]||(n[1]=r=>_()),class:"flex w-full items-center gap-2 rounded-lg p-2 text-sm text-gray-600 transition-colors hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"},[d(t(Y),{class:"h-4 w-4"}),n[5]||(n[5]=K(" Özel özellik ekle "))])])])):f("",!0)])])]),e("div",Ct,[(u(!0),m(O,null,q(p.modelValue,(r,a)=>(u(),m("div",{key:`attribute-${a}`,class:"group relative rounded-xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-purple-200 hover:shadow-md dark:border-gray-700 dark:bg-gray-800 dark:hover:border-purple-700"},[e("div",zt,k(a+1),1),p.modelValue.length>1?(u(),m("button",{key:0,type:"button",onClick:i=>x(a),class:"absolute -right-2 -top-2 flex h-8 w-8 items-center justify-center rounded-full bg-red-500 text-white opacity-0 shadow-lg transition-all duration-200 hover:bg-red-600 group-hover:opacity-100",title:"Özelliği kaldır"},[d(t(ne),{class:"h-4 w-4"})],8,St)):f("",!0),e("div",Ut,[e("div",Rt,[e("div",It,[d(t(Re),{class:"h-4 w-4 text-purple-500"}),n[7]||(n[7]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},[K(" Özellik Adı "),e("span",{class:"text-red-500"},"*")],-1))]),e("input",{value:r.name,onInput:i=>$(a,"name",i.target.value),type:"text",placeholder:"örn: Renk, Boyut, Materyal",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-sm transition-all duration-200 focus:border-purple-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-purple-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-purple-400"},null,40,Tt),U(a,"name")?(u(),m("p",Dt,k(U(a,"name")),1)):f("",!0)]),e("div",At,[e("div",Bt,[d(t(Ae),{class:"h-4 w-4 text-purple-500"}),n[8]||(n[8]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},[K(" Özellik Değeri "),e("span",{class:"text-red-500"},"*")],-1))]),e("input",{value:r.value,onInput:i=>$(a,"value",i.target.value),type:"text",placeholder:"örn: Kırmızı, XL, Pamuk",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-sm transition-all duration-200 focus:border-purple-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-purple-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-purple-400"},null,40,jt),U(a,"value")?(u(),m("p",Et,k(U(a,"value")),1)):f("",!0)])]),e("div",Kt,[e("div",Ft,[e("div",{class:D(["h-1 rounded-full transition-all duration-300",r.name.trim()&&r.value.trim()?"w-full bg-gradient-to-r from-green-500 to-green-600":r.name.trim()||r.value.trim()?"w-1/2 bg-gradient-to-r from-yellow-500 to-yellow-600":"w-0"])},null,2)]),e("span",{class:D(["text-xs font-medium",r.name.trim()&&r.value.trim()?"text-green-600 dark:text-green-400":r.name.trim()||r.value.trim()?"text-yellow-600 dark:text-yellow-400":"text-gray-400"])},k(r.name.trim()&&r.value.trim()?"Tamamlandı":r.name.trim()||r.value.trim()?"Devam ediyor":"Başlanmadı"),3)])]))),128)),p.modelValue.length===0?(u(),m("div",Lt,[d(t(ee),{class:"mx-auto h-12 w-12 text-gray-400"}),n[10]||(n[10]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900 dark:text-white"},"Henüz özellik eklenmedi",-1)),n[11]||(n[11]=e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Ürününüzün özelliklerini ekleyerek müşterilerinize daha detaylı bilgi verin ",-1)),e("button",{type:"button",onClick:n[2]||(n[2]=r=>_()),class:"mt-4 inline-flex items-center gap-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-purple-700"},[d(t(Y),{class:"h-4 w-4"}),n[9]||(n[9]=K(" İlk özelliği ekle "))])])):f("",!0)]),e("div",Mt,[e("div",Ot,[e("div",Pt,[d(t(ee),{class:"h-3 w-3 text-purple-600 dark:text-purple-400"})]),n[12]||(n[12]=e("div",{class:"flex-1"},[e("h4",{class:"text-sm font-medium text-purple-900 dark:text-purple-100"},"İpucu"),e("p",{class:"mt-1 text-sm text-purple-700 dark:text-purple-300"}," Ürün özelliklerini eklerken müşterilerinizin aradığı bilgileri düşünün. Renk, boyut, materyal gibi temel özellikler satış oranınızı artırabilir. ")],-1))])])]))}}),qt={class:"space-y-3"},Nt={key:0,class:"space-y-1"},Gt=["for"],Wt={key:0,class:"text-red-500 ml-1"},Xt={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Yt=["id","accept","disabled"],Jt={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-gray-800/80 rounded-lg"},Qt={key:1,class:"absolute inset-0 p-4"},Zt={class:"relative h-full w-full rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700"},ea=["src","alt"],ta={class:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-colors duration-200 flex items-center justify-center opacity-0 hover:opacity-100"},aa={class:"flex gap-2"},ra={key:0,class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3"},la={class:"text-white text-xs"},sa={class:"font-medium truncate"},oa={class:"text-white/80"},ia={key:1,class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3"},na={class:"text-white text-xs"},da={class:"text-white/80 truncate"},ua={key:2,class:"flex flex-col items-center justify-center h-full p-6 text-center"},ca={class:"mb-4"},ma={class:"space-y-2"},ga={class:"text-base font-medium text-gray-700 dark:text-gray-300"},pa={class:"text-xs text-gray-500 dark:text-gray-400"},ya={key:0,class:"mt-2"},ba={key:1,class:"space-y-1"},fa={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},va={key:0,class:"text-red-500 ml-1"},ka=["value"],ha={key:0,class:"text-sm text-red-600 dark:text-red-400"},xa={key:2,class:"text-sm text-red-600 dark:text-red-400"},oe=N({__name:"ImageUrlUpload",props:{id:{},modelValue:{},altText:{},label:{},description:{},error:{},altError:{},required:{type:Boolean},disabled:{type:Boolean},accept:{default:"image/jpeg,image/png,image/jpg,image/webp"},maxSize:{default:5},showPreview:{type:Boolean,default:!0},showAltText:{type:Boolean,default:!0},placeholder:{default:"Resim seçin veya sürükleyip bırakın"}},emits:["update:modelValue","update:altText","remove"],setup(F,{emit:l}){const c=F,h=l,w=A(!1),b=A(!1),_=A(),x=A(null),$=A(),U=S(()=>c.id||`image-url-upload-${Math.random().toString(36).substr(2,9)}`),z=S(()=>{if(!x.value)return null;const o=(x.value.size/(1024*1024)).toFixed(2);return{name:x.value.name,size:`${o} MB`,type:x.value.type}}),y=S(()=>{let o="relative w-full min-h-[200px] rounded-lg border-2 border-dashed transition-all duration-200 cursor-pointer";return c.disabled?o+=" border-gray-200 bg-gray-50 cursor-not-allowed dark:border-gray-700 dark:bg-gray-800":w.value?o+=" border-blue-400 bg-blue-50 dark:border-blue-500 dark:bg-blue-900/20":c.error?o+=" border-red-300 bg-red-50 hover:border-red-400 dark:border-red-600 dark:bg-red-900/20":o+=" border-gray-300 bg-gray-50 hover:border-gray-400 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:hover:border-gray-500 dark:hover:bg-gray-700",o}),p=o=>window.URL.createObjectURL(o),n=o=>{window.URL.revokeObjectURL(o)},r=o=>{const v=c.maxSize*1024*1024;return o.size>v?`Dosya boyutu ${c.maxSize}MB'dan büyük olamaz`:o.type.startsWith("image/")?null:"Sadece resim dosyaları kabul edilir"},a=o=>{o&&o.type.startsWith("image/")&&($.value&&n($.value),$.value=p(o))},i=o=>{var B;const v=o.target,I=(B=v.files)==null?void 0:B[0];if(I){const M=r(I);if(M){alert(M),v.value="";return}b.value=!0,x.value=I,a(I),setTimeout(()=>{h("update:modelValue",I),b.value=!1},300)}},j=o=>{var I;if(o.preventDefault(),w.value=!1,c.disabled)return;const v=(I=o.dataTransfer)==null?void 0:I.files;if(v&&v.length>0){const B=v[0],M=r(B);if(M){alert(M);return}b.value=!0,x.value=B,a(B),setTimeout(()=>{h("update:modelValue",B),b.value=!1},300)}},C=o=>{o.preventDefault(),c.disabled||(w.value=!0)},R=()=>{w.value=!1},G=()=>{!c.disabled&&_.value&&_.value.click()};return H(()=>c.modelValue,o=>{o||(x.value=null,$.value&&(n($.value),$.value=void 0))},{immediate:!0}),H(x,o=>{if(o&&(!c.altText||c.altText==="")){let v=o.name.replace(/\.[^/.]+$/,"");v=v.replace(/[-_]+/g," ").trim(),h("update:altText",v)}}),H(()=>x.value,(o,v)=>{v&&$.value&&n($.value)}),(o,v)=>(u(),m("div",qt,[o.label?(u(),m("div",Nt,[e("label",{for:U.value,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[K(k(o.label)+" ",1),o.required?(u(),m("span",Wt,"*")):f("",!0)],8,Gt),o.description?(u(),m("p",Xt,k(o.description),1)):f("",!0)])):f("",!0),e("div",{class:D(y.value),onDrop:j,onDragover:C,onDragleave:R,onClick:G},[e("input",{ref_key:"fileInputRef",ref:_,id:U.value,type:"file",accept:o.accept,disabled:o.disabled,class:"hidden",onChange:i},null,40,Yt),b.value?(u(),m("div",Jt,v[1]||(v[1]=[e("div",{class:"flex flex-col items-center gap-2"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Yükleniyor...")],-1)]))):o.modelValue||x.value&&$.value?(u(),m("div",Qt,[e("div",Zt,[e("img",{src:o.modelValue||$.value,alt:o.altText||"Önizleme",class:"h-full w-full object-cover"},null,8,ea),e("div",ta,[e("div",aa,[e("button",{type:"button",onClick:J(G,["stop"]),class:"p-2 bg-white/90 hover:bg-white text-gray-700 rounded-full transition-colors",title:"Değiştir"},[d(t(Se),{class:"h-4 w-4"})])])]),z.value?(u(),m("div",ra,[e("div",la,[e("p",sa,k(z.value.name),1),e("p",oa,k(z.value.size),1)])])):o.modelValue?(u(),m("div",ia,[e("div",na,[v[2]||(v[2]=e("p",{class:"font-medium"},"Yüklenmiş Resim",-1)),e("p",da,k(o.modelValue),1)])])):f("",!0)])])):(u(),m("div",ua,[e("div",ca,[d(t(Ue),{class:D(["h-12 w-12",w.value?"text-blue-500":o.error?"text-red-400":"text-gray-400"])},null,8,["class"])]),e("div",ma,[e("p",ga,k(o.placeholder),1),e("p",pa," JPG, PNG, WEBP • Max "+k(o.maxSize)+"MB ",1)]),w.value?(u(),m("div",ya,v[3]||(v[3]=[e("p",{class:"text-sm text-blue-600 dark:text-blue-400 font-medium"}," Dosyayı bırakın ",-1)]))):f("",!0)]))],34),o.showAltText&&(o.modelValue||x.value)?(u(),m("div",ba,[e("label",fa,[v[4]||(v[4]=K(" Alt Text ")),o.required?(u(),m("span",va,"*")):f("",!0)]),e("input",{value:o.altText,onInput:v[0]||(v[0]=I=>o.$emit("update:altText",I.target.value)),type:"text",placeholder:"Resim açıklaması (SEO için önemli)",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,40,ka),o.altError?(u(),m("p",ha,k(o.altError),1)):f("",!0)])):f("",!0),o.error?(u(),m("p",xa,k(o.error),1)):f("",!0)]))}}),_a={class:"max-w-8xl mx-auto p-8"},wa={class:"p-8"},Ga=N({__name:"create",setup(F){const l=ye({name:"",slug:"",description:"",short_description:"",category_id:"",price:"",images:[{main_image:null,main_image_alt:"",hover_image:null,hover_image_alt:""}],card_image:{main_image:null,secondary_image:null,main_image_alt:"",secondary_image_alt:"",title:"",description:""},colors:[],attributes:[{name:"",value:""}],meta_title:"",meta_description:"",meta_keywords:"",canonical_url:""}),c=be(),h=S(()=>c.props.categories),w=S(()=>c.props.colors),b=r=>l.errors[r],_=r=>{const a=`card_image.${r}`;return l.errors[a]},x=()=>{l.slug?l.canonical_url="/"+l.slug.replace(/^\/+/,""):l.canonical_url="/"},$=()=>{l.name&&(l.slug=l.name.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),x())};H(()=>l.slug,x),H(()=>l.canonical_url,r=>{r&&(l.meta_title=r)});const U=(r,a,i)=>{var R;const C=(R=r.target.files)==null?void 0:R[0];C&&(console.log(`Dosya seçildi: ${C.name}, Type: ${a}, Field: ${i}`),l.card_image={...l.card_image,[i]:C},console.log("Form data after file select:",l.data()))},z=()=>{console.log("Form gönderiliyor:",l.data()),l.post("/dashboard/pages",{forceFormData:!0,onSuccess:()=>{console.log("Ürün başarıyla oluşturuldu!"),l.reset(),l.clearErrors()},onError:r=>{console.log("Validation errors:",r)}})},y=[{title:"Dashboard",href:"/dashboard"},{title:"Sayfa",href:"/dashboard/pages"},{title:"Sayfa Oluştur",href:"/dashboard/pages/create"}],p=S(()=>l.processing);S(()=>Object.keys(l.errors).length>0);const n=r=>{l.images=[...r],console.log("Images updated:",l.images)};return(r,a)=>(u(),m(O,null,[d(t(fe),{title:"Ürün Oluştur"}),d($e,{breadcrumbs:y},{default:T(()=>[e("div",_a,[d(t(Te),null,{default:T(()=>[e("div",wa,[e("form",{onSubmit:J(z,["prevent"]),class:"space-y-8"},[d(t(_e),null,{default:T(()=>[d(t(re),null,{default:T(()=>[d(t(P),null,{default:T(()=>[d(t(te),{icon:t(De),title:"Ürün Bilgileri",description:"Ürün hakkında temel özelliklerini belirleyin"},null,8,["icon"]),d(t(E),{id:"name",label:"Ürün Adı *",description:"Ürünün görüntülenecek adını girin",modelValue:t(l).name,"onUpdate:modelValue":a[0]||(a[0]=i=>t(l).name=i),placeholder:"Ürün adını girin",error:b("name"),type:"text",onInput:$},null,8,["modelValue","error"]),d(t(E),{id:"slug",label:"Slug *",description:"URL'de kullanılacak benzersiz tanımlayıcı (Türkçe karakter kullanmayın)",modelValue:t(l).slug,"onUpdate:modelValue":a[1]||(a[1]=i=>t(l).slug=i),placeholder:"urun-slug",error:b("slug"),type:"text"},null,8,["modelValue","error"]),d(he,{id:"category_id",modelValue:t(l).category_id,"onUpdate:modelValue":a[2]||(a[2]=i=>t(l).category_id=i),options:h.value.map(i=>({value:i.id,label:i.name})),label:"Kategori *",description:"Ürünün ait olduğu kategoriyi seçin",placeholder:"Kategori seçin",error:b("category_id")},null,8,["modelValue","options","error"]),d(t(E),{id:"price",label:"Fiyat *",description:"Ürünün satış fiyatını girin (TL)",modelValue:t(l).price,"onUpdate:modelValue":a[3]||(a[3]=i=>t(l).price=i),placeholder:"0.00",error:b("price"),type:"number",inputProps:{step:"0.01",min:"0"}},null,8,["modelValue","error"]),d(t(X),{id:"short_description",label:"Kısa Açıklama *",description:"Ürünün kısa ve öz açıklaması (maksimum 500 karakter)",modelValue:t(l).short_description,"onUpdate:modelValue":a[4]||(a[4]=i=>t(l).short_description=i),textareaProps:{rows:3,maxlength:500,placeholder:"Ürünün kısa açıklaması"},error:b("short_description")},null,8,["modelValue","error"]),d(t(X),{id:"description",label:"Detaylı Açıklama *",description:"Ürünün detaylı açıklaması ve özellikleri",modelValue:t(l).description,"onUpdate:modelValue":a[5]||(a[5]=i=>t(l).description=i),textareaProps:{rows:6,placeholder:"Ürünün detaylı açıklaması"},error:b("description")},null,8,["modelValue","error"]),d(t(at),{id:"product_colors",modelValue:t(l).colors,"onUpdate:modelValue":a[6]||(a[6]=i=>t(l).colors=i),options:w.value,label:"Ürün Renkleri *",description:"Bu ürün için mevcut renk seçeneklerini belirleyin",placeholder:"Renk seçin",error:b("colors"),searchable:"",clearable:"","show-colors":!0,size:"md"},null,8,["modelValue","options","error"])]),_:1}),d(t(P),null,{default:T(()=>[d(t(ct),{"model-value":t(l).images,errors:t(l).errors,"onUpdate:modelValue":n},null,8,["model-value","errors"])]),_:1}),d(t(P),null,{default:T(()=>[d(t(Ht),{modelValue:t(l).attributes,"onUpdate:modelValue":a[7]||(a[7]=i=>t(l).attributes=i),errors:t(l).errors},null,8,["modelValue","errors"])]),_:1})]),_:1}),d(t(re),{span:"col-span-2 space-y-6"},{default:T(()=>[d(t(P),null,{default:T(()=>[d(t(te),{icon:t(ie),title:"Kart Bilgileri",description:"Ürün kartında görünecek bilgileri belirleyin"},null,8,["icon"]),d(t(E),{id:"card_title",label:"Kart Başlığı *",description:"Ürün kartında görünecek başlık",modelValue:t(l).card_image.title,"onUpdate:modelValue":a[8]||(a[8]=i=>t(l).card_image.title=i),placeholder:"Kart başlığı",error:_("title"),type:"text"},null,8,["modelValue","error"]),d(t(X),{id:"card_description",label:"Kart Açıklaması *",description:"Ürün kartında görünecek açıklama metni",modelValue:t(l).card_image.description,"onUpdate:modelValue":a[9]||(a[9]=i=>t(l).card_image.description=i),textareaProps:{rows:3,placeholder:"Kart açıklaması"},error:_("description")},null,8,["modelValue","error"]),d(t(le),{modelValue:t(l).card_image.main_image,"onUpdate:modelValue":a[10]||(a[10]=i=>t(l).card_image.main_image=i),label:"Ana Resim",description:"Kart için ana resim seçin",error:_("main_image"),onFileSelect:a[11]||(a[11]=i=>U(i,"card_image","main_image"))},null,8,["modelValue","error"]),d(t(E),{id:"card_image_main_image_alt",label:"Kart Ana Resim Alt Text *",description:"Ana resim için alt metin (SEO için önemli)",modelValue:t(l).card_image.main_image_alt,"onUpdate:modelValue":a[12]||(a[12]=i=>t(l).card_image.main_image_alt=i),placeholder:"Kart ana resim alt text",error:_("main_image_alt"),type:"text"},null,8,["modelValue","error"]),d(t(le),{modelValue:t(l).card_image.secondary_image,"onUpdate:modelValue":a[13]||(a[13]=i=>t(l).card_image.secondary_image=i),label:"İkinci Resim",description:"Kart için ikinci resim seçin",error:_("secondary_image"),onFileSelect:a[14]||(a[14]=i=>U(i,"card_image","secondary_image"))},null,8,["modelValue","error"]),d(t(E),{id:"card_image_secondary_image_alt",label:"Kart İkinci Resim Alt Text *",description:"İkinci resim için alt metin (SEO için önemli)",modelValue:t(l).card_image.secondary_image_alt,"onUpdate:modelValue":a[15]||(a[15]=i=>t(l).card_image.secondary_image_alt=i),placeholder:"Kart ikinci resim alt text",error:_("secondary_image_alt"),type:"text"},null,8,["modelValue","error"])]),_:1}),d(t(P),null,{default:T(()=>[d(t(te),{title:"SEO Bilgileri",description:"Arama motorları için meta bilgilerini girin"}),d(t(E),{id:"meta_title",label:"Meta Başlık *",description:"Sayfa başlığı (SEO için önemli)",modelValue:t(l).meta_title,"onUpdate:modelValue":a[16]||(a[16]=i=>t(l).meta_title=i),placeholder:"Meta başlık",error:b("meta_title"),type:"text"},null,8,["modelValue","error"]),d(t(X),{id:"meta_description",label:"Meta Açıklama *",description:"Sayfa açıklaması (SEO için önemli)",modelValue:t(l).meta_description,"onUpdate:modelValue":a[17]||(a[17]=i=>t(l).meta_description=i),textareaProps:{rows:2,maxlength:255,placeholder:"Meta açıklama"},error:b("meta_description")},null,8,["modelValue","error"]),d(t(E),{id:"meta_keywords",label:"Meta Anahtar Kelimeler *",description:"Virgül ile ayırarak anahtar kelimeleri girin",modelValue:t(l).meta_keywords,"onUpdate:modelValue":a[18]||(a[18]=i=>t(l).meta_keywords=i),placeholder:"ör: ayakkabı, spor, erkek",error:b("meta_keywords"),type:"text"},null,8,["modelValue","error"]),d(t(E),{id:"canonical_url",label:"Canonical URL *",description:"Sayfanın kanonik (asıl) URL'si",modelValue:t(l).canonical_url,"onUpdate:modelValue":a[19]||(a[19]=i=>t(l).canonical_url=i),placeholder:"/kategori/kategori-slug/urun-slug",error:b("canonical_url"),type:"text",readonly:!0},null,8,["modelValue","error"])]),_:1})]),_:1})]),_:1}),d(t(xe),{processing:p.value,onCancel:a[20]||(a[20]=i=>r.$inertia.visit("/dashboard/products"))},null,8,["processing"])],32)])]),_:1})])]),_:1})],64))}});export{Ga as default};
