import{_ as ne}from"./PageContainer.vue_vue_type_script_setup_true_lang-dQCignUH.js";import{_ as me}from"./SectionBox.vue_vue_type_script_setup_true_lang-CeQYoSO3.js";import{d as te,z as g,c as ue,a as l,o as s,b as t,k as u,e as n,u as o,i as y,D as ge,h as G,t as f,F as ce,r as ve,A as T,C as V,j as P,I as W,K as be,w as X}from"./app-0a9dbN6X.js";import{I as J}from"./image-DzCtOBAb.js";import{P as Q}from"./plus-Ca33b8zc.js";import{C as ye}from"./circle-check-big-VjHHc0Wj.js";import{C as B}from"./circle-alert-C6uodSl9.js";import{X as Y,S as ee,_ as xe}from"./AppLayout.vue_vue_type_script_setup_true_lang-C0EXlbIT.js";import{U as D}from"./upload-C3_t7-Lv.js";import{T as _e}from"./trash-2-WExvnJMo.js";import{A as pe}from"./arrow-left-ChPQ-pfM.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BjcXEspG.js";import"./index-CKKL9MW1.js";import"./RovingFocusGroup-Bq_x6jKA.js";const he={class:"space-y-6"},ke={class:"flex items-center justify-between"},fe={class:"flex items-center gap-3"},we={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/30"},Ce={key:1,class:"space-y-6"},Ie={class:"mb-4 flex items-center justify-between"},$e={class:"text-sm font-medium text-gray-900 dark:text-white"},Re={class:"flex items-center gap-2"},je=["onClick"],Me=["onClick","disabled"],De={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-red-500/30 border-t-red-500"},Se={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Ae={class:"space-y-3"},ze={class:"relative border-2 border-gray-300 rounded-lg overflow-hidden dark:border-gray-600"},He={key:0,class:"relative"},Ee=["src","alt"],Ue={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2"},Fe={class:"text-white text-xs truncate"},Te={key:1,class:"flex flex-col items-center justify-center h-32 bg-gray-100 dark:bg-gray-700"},Ve={class:"space-y-3"},Be={class:"relative border-2 border-gray-300 rounded-lg overflow-hidden dark:border-gray-600"},Ye={key:0,class:"relative"},Ge=["src","alt"],Le={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2"},Ke={class:"text-white text-xs truncate"},Ne={key:1,class:"flex flex-col items-center justify-center h-32 bg-gray-100 dark:bg-gray-700"},Oe={key:2,class:"text-center py-12"},Pe={class:"mx-auto mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800"},We={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-600"},Xe={class:"p-6 space-y-6"},Ze={class:"space-y-3"},qe={class:"border-2 border-dashed border-gray-300 rounded-lg p-4 dark:border-gray-600"},Je={key:0,class:"space-y-3"},Qe=["src"],et={key:1,class:"text-center py-8"},tt={class:"space-y-3"},at={class:"border-2 border-dashed border-gray-300 rounded-lg p-4 dark:border-gray-600"},rt={key:0,class:"space-y-3"},st=["src"],lt={key:1,class:"text-center py-8"},ot={class:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-600"},it=["disabled"],dt={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"},nt={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-600"},mt={class:"flex items-center"},ut={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg mr-3"},gt={class:"p-6 space-y-6"},ct={class:"space-y-3"},vt={key:0,class:"mb-3"},bt=["src"],yt={class:"border-2 border-dashed border-gray-300 rounded-lg p-4 dark:border-gray-600"},xt={key:0,class:"space-y-3"},_t=["src"],pt={key:1,class:"text-center py-8"},ht={class:"space-y-3"},kt={key:0,class:"mb-3"},ft={class:"relative"},wt=["src"],Ct={key:1,class:"mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},It={class:"text-sm text-red-600 dark:text-red-400 flex items-center"},$t={key:2,class:"border-2 border-dashed border-gray-300 rounded-lg p-4 dark:border-gray-600"},Rt={key:0,class:"space-y-3"},jt=["src"],Mt={key:1,class:"text-center py-8"},Dt={class:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-600"},St=["disabled"],At={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"},zt={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-600"},Ht={class:"flex items-center"},Et={class:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg mr-3"},Ut={class:"p-6"},Ft={key:0,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4"},Tt={class:"grid grid-cols-2 gap-4"},Vt={key:0},Bt=["src"],Yt={key:1},Gt=["src"],Lt={class:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3 border border-red-200 dark:border-red-800"},Kt={class:"text-sm text-red-600 dark:text-red-400 flex items-center"},Nt={class:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-600"},Ot=["disabled"],Pt={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"},Wt=te({__name:"RealTimeImageGallery",props:{productId:{},initialImages:{},errors:{}},emits:["images-updated"],setup(Z,{emit:L}){const w=Z,$=L,c=g(w.initialImages||[]),S=g({}),p=g(""),b=g(""),A=g(!1),d=g({main_image:null,main_image_alt:"",hover_image:null,hover_image_alt:""}),K=g(!1),h=g(-1),x=g(null),N=g(!1),O=g(-1),_=g(null),i=g({main_image:null,main_image_alt:"",hover_image:null,hover_image_alt:"",remove_hover_image:!1}),ae=ue(()=>c.value.length>0),C=(a,e)=>{p.value=a,b.value=e,setTimeout(()=>{p.value="",b.value=""},3e3)},R=(a,e)=>{S.value[a]=e},v=a=>S.value[a]||!1,j=a=>a?a.startsWith("http")?a:`/storage/${a}`:null,q=()=>{d.value={main_image:null,main_image_alt:"",hover_image:null,hover_image_alt:""},A.value=!0},z=()=>{A.value=!1,d.value={main_image:null,main_image_alt:"",hover_image:null,hover_image_alt:""}},H=()=>{K.value=!1,h.value=-1,x.value=null},re=a=>{const e=c.value[a];O.value=a,_.value=e,i.value={main_image:null,main_image_alt:e.main_image_alt,hover_image:null,hover_image_alt:e.hover_image_alt,remove_hover_image:!1},N.value=!0},E=()=>{N.value=!1,O.value=-1,_.value=null,i.value={main_image:null,main_image_alt:"",hover_image:null,hover_image_alt:"",remove_hover_image:!1}},se=async()=>{if(!d.value.main_image||!d.value.main_image_alt){C("Ana resim ve alt text zorunludur","error");return}const a="add-image-set";R(a,!0);try{const e=new FormData;e.append("main_image",d.value.main_image),e.append("main_image_alt",d.value.main_image_alt),d.value.hover_image&&e.append("hover_image",d.value.hover_image),d.value.hover_image_alt&&e.append("hover_image_alt",d.value.hover_image_alt);const m=await W.post(`/dashboard/pages/${w.productId}/edit/gallery/add-set`,e,{headers:{"Content-Type":"multipart/form-data"}});m.data.success&&(c.value.push(m.data.image),$("images-updated",c.value),C("Resim seti başarıyla eklendi","success"),z())}catch(e){console.error("Resim seti eklenirken hata:",e),C("Resim seti eklenirken hata oluştu","error")}finally{R(a,!1)}},le=async()=>{var e;if(!((e=_.value)!=null&&e.id))return;const a="edit-image-set";R(a,!0);try{const m=new FormData;m.append("image_id",_.value.id.toString()),i.value.main_image&&m.append("main_image",i.value.main_image),m.append("main_image_alt",i.value.main_image_alt),i.value.remove_hover_image?m.append("remove_hover_image","1"):(i.value.hover_image&&m.append("hover_image",i.value.hover_image),m.append("hover_image_alt",i.value.hover_image_alt));const M=await W.post(`/dashboard/pages/${w.productId}/edit/gallery/edit-set`,m,{headers:{"Content-Type":"multipart/form-data"}});M.data.success&&(c.value[O.value]=M.data.image,$("images-updated",c.value),C("Resim seti başarıyla güncellendi","success"),E())}catch(m){console.error("Resim seti güncellenirken hata:",m),C("Resim seti güncellenirken hata oluştu","error")}finally{R(a,!1)}},oe=async()=>{var e;if(h.value===-1||!((e=x.value)!=null&&e.id))return;const a=`remove-set-${h.value}`;R(a,!0);try{(await W.delete(`/dashboard/pages/${w.productId}/edit/gallery/remove-set/${x.value.id}`)).data.success&&(c.value.splice(h.value,1),$("images-updated",c.value),C("Resim seti tamamen silindi","success"),H())}catch(m){console.error("Resim seti silinirken hata:",m),C("Resim seti silinirken hata oluştu","error")}finally{R(a,!1)}},ie=async a=>{const e=c.value[a];e.id&&(h.value=a,x.value=e,K.value=!0)},U=(a,e,m="add")=>{var r;const I=(r=e.target.files)==null?void 0:r[0];if(I)if(m==="add"){if(d.value[a]=I,a==="main_image"&&!d.value.main_image_alt){const k=I.name.replace(/\.[^/.]+$/,"");d.value.main_image_alt=k.replace(/[-_]+/g," ").trim()}}else i.value[a]=I,a==="hover_image"&&(i.value.remove_hover_image=!1)},F=a=>a&&a instanceof File?URL.createObjectURL(a):null;return(a,e)=>{var m,M,I;return s(),l("div",he,[t("div",ke,[t("div",fe,[t("div",we,[n(o(J),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),e[21]||(e[21]=t("div",null,[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Ürün Galerisi"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Resimleri gerçek zamanlı olarak yönetin")],-1))]),t("button",{type:"button",onClick:q,class:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700"},[n(o(Q),{class:"h-4 w-4"}),e[22]||(e[22]=y(" Resim Seti Ekle "))])]),p.value?(s(),l("div",{key:0,class:ge(["rounded-lg px-4 py-3 flex items-center",{"bg-green-50 text-green-800 border border-green-200 dark:bg-green-900/20 dark:text-green-200 dark:border-green-800":b.value==="success","bg-red-50 text-red-800 border border-red-200 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800":b.value==="error"}])},[b.value==="success"?(s(),G(o(ye),{key:0,class:"h-5 w-5 mr-2 text-green-500"})):(s(),G(o(B),{key:1,class:"h-5 w-5 mr-2 text-red-500"})),y(" "+f(p.value),1)],2)):u("",!0),ae.value?(s(),l("div",Ce,[(s(!0),l(ce,null,ve(c.value,(r,k)=>(s(),l("div",{key:`image-${k}-${r.id||"new"}`,class:"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800"},[t("div",Ie,[t("h3",$e," Resim Seti "+f(k+1),1),t("div",Re,[t("button",{type:"button",onClick:de=>re(k),class:"flex h-8 w-8 items-center justify-center rounded-lg text-blue-500 transition-colors hover:bg-blue-50 hover:text-blue-600 dark:hover:bg-blue-900/20",title:"Resim setini düzenle"},[n(o(ee),{class:"h-4 w-4"})],8,je),t("button",{type:"button",onClick:de=>ie(k),disabled:v(`remove-set-${k}`),class:"flex h-8 w-8 items-center justify-center rounded-lg text-red-500 transition-colors hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/20 disabled:opacity-50",title:"Resim setini tamamen sil"},[v(`remove-set-${k}`)?(s(),l("div",De)):(s(),G(o(_e),{key:1,class:"h-4 w-4"}))],8,Me)])]),t("div",Se,[t("div",Ae,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Ana Resim * ",-1)),t("div",ze,[r.main_image?(s(),l("div",He,[t("img",{src:j(r.main_image),alt:r.main_image_alt,class:"w-full h-32 object-cover"},null,8,Ee),t("div",Ue,[t("p",Fe,f(r.main_image_alt),1)])])):(s(),l("div",Te,[n(o(D),{class:"h-8 w-8 text-gray-400 mb-2"}),e[23]||(e[23]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Ana resim yok",-1))]))])]),t("div",Ve,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Hover Resmi (Opsiyonel) ",-1)),t("div",Be,[r.hover_image?(s(),l("div",Ye,[t("img",{src:j(r.hover_image),alt:r.hover_image_alt,class:"w-full h-32 object-cover"},null,8,Ge),t("div",Le,[t("p",Ke,f(r.hover_image_alt),1)])])):(s(),l("div",Ne,[n(o(D),{class:"h-8 w-8 text-gray-400 mb-2"}),e[25]||(e[25]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Hover resmi yok",-1))]))])])])]))),128))])):(s(),l("div",Oe,[t("div",Pe,[n(o(J),{class:"h-12 w-12 text-gray-400"})]),e[28]||(e[28]=t("h3",{class:"mb-2 text-xl font-semibold text-gray-900 dark:text-white"},"Henüz resim eklenmemiş",-1)),e[29]||(e[29]=t("p",{class:"mx-auto max-w-md text-gray-600 dark:text-gray-400 mb-4"}," Ürününüz için resim galerisi oluşturmak için ilk resim setini ekleyin. ",-1)),t("button",{type:"button",onClick:q,class:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-6 py-3 text-sm font-medium text-white transition-colors hover:bg-blue-700"},[n(o(Q),{class:"h-5 w-5"}),e[27]||(e[27]=y(" İlk Resim Setini Ekle "))])])),A.value?(s(),l("div",{key:3,class:"fixed inset-0 bg-gray-900/70 flex items-center justify-center z-50",onClick:z},[t("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e[8]||(e[8]=P(()=>{},["stop"]))},[t("div",We,[e[30]||(e[30]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Yeni Resim Seti Ekle",-1)),t("button",{onClick:z,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[n(o(Y),{class:"h-5 w-5"})])]),t("div",Xe,[t("div",Ze,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Ana Resim * "),t("span",{class:"text-red-500"},"Zorunlu")],-1)),t("div",qe,[d.value.main_image?(s(),l("div",Je,[t("img",{src:F(d.value.main_image),class:"w-full h-32 object-cover rounded"},null,8,Qe),t("button",{onClick:e[0]||(e[0]=r=>d.value.main_image=null),class:"text-sm text-red-600 hover:text-red-700"}," Resmi kaldır ")])):(s(),l("div",et,[n(o(D),{class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t("button",{type:"button",onClick:e[1]||(e[1]=r=>a.$refs.modalMainImageInput.click()),class:"text-sm text-blue-600 hover:text-blue-700"}," Ana resim seçin ")]))]),t("input",{ref:"modalMainImageInput",type:"file",accept:"image/*",class:"hidden",onChange:e[2]||(e[2]=r=>U("main_image",r,"add"))},null,544),T(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>d.value.main_image_alt=r),type:"text",placeholder:"Ana resim alt text (zorunlu)",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,512),[[V,d.value.main_image_alt]])]),t("div",tt,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Hover Resmi (Opsiyonel) ",-1)),t("div",at,[d.value.hover_image?(s(),l("div",rt,[t("img",{src:F(d.value.hover_image),class:"w-full h-32 object-cover rounded"},null,8,st),t("button",{onClick:e[4]||(e[4]=r=>d.value.hover_image=null),class:"text-sm text-red-600 hover:text-red-700"}," Resmi kaldır ")])):(s(),l("div",lt,[n(o(D),{class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t("button",{type:"button",onClick:e[5]||(e[5]=r=>a.$refs.modalHoverImageInput.click()),class:"text-sm text-blue-600 hover:text-blue-700"}," Hover resmi seçin ")]))]),t("input",{ref:"modalHoverImageInput",type:"file",accept:"image/*",class:"hidden",onChange:e[6]||(e[6]=r=>U("hover_image",r,"add"))},null,544),T(t("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>d.value.hover_image_alt=r),type:"text",placeholder:"Hover resmi alt text",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,512),[[V,d.value.hover_image_alt]])])]),t("div",ot,[t("button",{onClick:z,class:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors"}," İptal "),t("button",{onClick:se,disabled:v("add-image-set")||!d.value.main_image||!d.value.main_image_alt,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2"},[v("add-image-set")?(s(),l("div",dt)):u("",!0),y(" "+f(v("add-image-set")?"Ekleniyor...":"Resim Seti Ekle"),1)],8,it)])])])):u("",!0),N.value?(s(),l("div",{key:4,class:"fixed inset-0 bg-gray-900/70 flex items-center justify-center z-50",onClick:E},[t("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e[19]||(e[19]=P(()=>{},["stop"]))},[t("div",nt,[t("div",mt,[t("div",ut,[n(o(ee),{class:"h-6 w-6 text-blue-600 dark:text-blue-400"})]),e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Resim Seti Düzenle ",-1))]),t("button",{onClick:E,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[n(o(Y),{class:"h-5 w-5"})])]),t("div",gt,[t("div",ct,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Ana Resim ",-1)),(m=_.value)!=null&&m.main_image?(s(),l("div",vt,[e[34]||(e[34]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Mevcut ana resim:",-1)),t("img",{src:j(_.value.main_image),class:"w-full h-24 object-cover rounded border"},null,8,bt)])):u("",!0),t("div",yt,[i.value.main_image?(s(),l("div",xt,[e[35]||(e[35]=t("p",{class:"text-xs text-green-600 dark:text-green-400 mb-2"},"Yeni ana resim:",-1)),t("img",{src:F(i.value.main_image),class:"w-full h-32 object-cover rounded"},null,8,_t),t("button",{onClick:e[9]||(e[9]=r=>i.value.main_image=null),class:"text-sm text-red-600 hover:text-red-700"}," Yeni resmi kaldır ")])):(s(),l("div",pt,[n(o(D),{class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t("button",{type:"button",onClick:e[10]||(e[10]=r=>a.$refs.editModalMainImageInput.click()),class:"text-sm text-blue-600 hover:text-blue-700"}," Yeni ana resim seçin ")]))]),t("input",{ref:"editModalMainImageInput",type:"file",accept:"image/*",class:"hidden",onChange:e[11]||(e[11]=r=>U("main_image",r,"edit"))},null,544),T(t("input",{"onUpdate:modelValue":e[12]||(e[12]=r=>i.value.main_image_alt=r),type:"text",placeholder:"Ana resim alt text",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,512),[[V,i.value.main_image_alt]])]),t("div",ht,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Hover Resmi (Opsiyonel) ",-1)),(M=_.value)!=null&&M.hover_image&&!i.value.remove_hover_image?(s(),l("div",kt,[e[37]||(e[37]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Mevcut hover resmi:",-1)),t("div",ft,[t("img",{src:j(_.value.hover_image),class:"w-full h-24 object-cover rounded border"},null,8,wt),t("button",{onClick:e[13]||(e[13]=r=>i.value.remove_hover_image=!0),class:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",title:"Hover resmi kaldır"},[n(o(Y),{class:"h-3 w-3"})])])])):u("",!0),i.value.remove_hover_image?(s(),l("div",Ct,[t("p",It,[n(o(B),{class:"h-4 w-4 mr-2"}),e[38]||(e[38]=y(" Hover resmi kaldırılacak "))]),t("button",{onClick:e[14]||(e[14]=r=>i.value.remove_hover_image=!1),class:"text-sm text-red-600 hover:text-red-700 underline mt-1"}," Geri al ")])):u("",!0),i.value.remove_hover_image?u("",!0):(s(),l("div",$t,[i.value.hover_image?(s(),l("div",Rt,[e[39]||(e[39]=t("p",{class:"text-xs text-green-600 dark:text-green-400 mb-2"},"Yeni hover resmi:",-1)),t("img",{src:F(i.value.hover_image),class:"w-full h-32 object-cover rounded"},null,8,jt),t("button",{onClick:e[15]||(e[15]=r=>i.value.hover_image=null),class:"text-sm text-red-600 hover:text-red-700"}," Yeni resmi kaldır ")])):(s(),l("div",Mt,[n(o(D),{class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t("button",{type:"button",onClick:e[16]||(e[16]=r=>a.$refs.editModalHoverImageInput.click()),class:"text-sm text-blue-600 hover:text-blue-700"},f((I=_.value)!=null&&I.hover_image?"Yeni hover resmi seçin":"Hover resmi seçin"),1)]))])),t("input",{ref:"editModalHoverImageInput",type:"file",accept:"image/*",class:"hidden",onChange:e[17]||(e[17]=r=>U("hover_image",r,"edit"))},null,544),i.value.remove_hover_image?u("",!0):T((s(),l("input",{key:3,"onUpdate:modelValue":e[18]||(e[18]=r=>i.value.hover_image_alt=r),type:"text",placeholder:"Hover resmi alt text",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,512)),[[V,i.value.hover_image_alt]])])]),t("div",Dt,[t("button",{onClick:E,class:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors"}," İptal "),t("button",{onClick:le,disabled:v("edit-image-set"),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2"},[v("edit-image-set")?(s(),l("div",At)):u("",!0),y(" "+f(v("edit-image-set")?"Güncelleniyor...":"Değişiklikleri Kaydet"),1)],8,St)])])])):u("",!0),K.value?(s(),l("div",{key:5,class:"fixed inset-0 bg-gray-900/70 flex items-center justify-center z-50",onClick:H},[t("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",onClick:e[20]||(e[20]=P(()=>{},["stop"]))},[t("div",zt,[t("div",Ht,[t("div",Et,[n(o(B),{class:"h-6 w-6 text-red-600 dark:text-red-400"})]),e[41]||(e[41]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Resim Setini Sil ",-1))]),t("button",{onClick:H,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[n(o(Y),{class:"h-5 w-5"})])]),t("div",Ut,[e[45]||(e[45]=t("p",{class:"text-gray-600 dark:text-gray-300 mb-4"}," Bu resim setini tamamen silmek istediğinizden emin misiniz? ",-1)),x.value?(s(),l("div",Ft,[t("div",Tt,[x.value.main_image?(s(),l("div",Vt,[e[42]||(e[42]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Ana Resim:",-1)),t("img",{src:j(x.value.main_image),class:"w-full h-16 object-cover rounded"},null,8,Bt)])):u("",!0),x.value.hover_image?(s(),l("div",Yt,[e[43]||(e[43]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Hover Resmi:",-1)),t("img",{src:j(x.value.hover_image),class:"w-full h-16 object-cover rounded"},null,8,Gt)])):u("",!0)])])):u("",!0),t("div",Lt,[t("p",Kt,[n(o(B),{class:"h-4 w-4 mr-2"}),e[44]||(e[44]=y(" Bu işlem geri alınamaz. Ana resim, hover resmi ve tüm alt textler silinecektir. "))])])]),t("div",Nt,[t("button",{onClick:H,class:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors"}," İptal "),t("button",{onClick:oe,disabled:v(`remove-set-${h.value}`),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2"},[v(`remove-set-${h.value}`)?(s(),l("div",Pt)):u("",!0),y(" "+f(v(`remove-set-${h.value}`)?"Siliniyor...":"Evet, Sil"),1)],8,Ot)])])])):u("",!0)])}}}),Xt={class:"max-w-6xl mx-auto p-8"},Zt={class:"mt-8 flex justify-center"},ua=te({__name:"edit-product-gallery",setup(Z){const L=[{title:"Dashboard",href:"/dashboard"},{title:"Ürünler",href:"/dashboard/pages"},{title:"Galeri Düzenle",href:"#"}],w=be(),$=w.props.product_id,c=w.props.images||[],S=p=>{console.log("Galeri güncellendi:",p)};return(p,b)=>(s(),G(xe,{breadcrumbs:L},{default:X(()=>[n(o(ne),null,{default:X(()=>[t("div",Xt,[n(o(me),null,{default:X(()=>[n(Wt,{"product-id":o($),"initial-images":o(c),onImagesUpdated:S},null,8,["product-id","initial-images"]),t("div",Zt,[t("button",{type:"button",onClick:b[0]||(b[0]=A=>p.$inertia.visit(`/dashboard/pages/${o($)}`)),class:"inline-flex items-center gap-2 rounded-lg bg-gray-600 px-6 py-3 text-sm font-medium text-white transition-colors hover:bg-gray-700"},[n(o(pe),{class:"h-4 w-4"}),b[1]||(b[1]=y(" Ürün Detayına Dön "))])])]),_:1})])]),_:1})]),_:1}))}});export{ua as default};
